window.GalaxyAccounts=function(){"use strict";var ENV={is_supporting:{css_animation:!1,css_pseudo_animation:!1},classes:{no_css_animations:"no-cssanimations",no_css_pseudo_animations:"no-csspseudoanimations"},is_css_tested:!1,is_mobile:-1!==navigator.userAgent.toLowerCase().indexOf("mobi"),debounce:function(func,wait,immediate){var timeout;return function(){var that=this,args=arguments,later=function(){timeout=null,immediate||func.apply(that,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(that,args)}},addClass:function(element,new_class){for(var classes=element.className.split(" "),i=classes.length;i--;)if(new_class===classes[i])return;classes.push(new_class),element.className=classes.join(" ")},removeClass:function(element,class_to_remove){for(var classes=element.className.split(" "),i=classes.length;i--;)if(class_to_remove===classes[i]){classes.splice(i,1);break}element.className=classes.join(" ")},addCSS:function(element,cssObject){var current_css,css_rule;if("string"==typeof(current_css=element.getAttribute("style"))){current_css=current_css.replace(/;\s+/g,";"),current_css=current_css.replace(/:\s+/g,":"),current_css=current_css.split(";");for(var i=current_css.length;i--;)css_rule=current_css[i].split(":"),2===css_rule.length&&void 0!==cssObject[css_rule[0]]&&current_css.splice(i,1)}else current_css=[];for(var rule in cssObject)cssObject.hasOwnProperty(rule)&&("number"==typeof cssObject[rule]&&0!==cssObject[rule]?current_css.push(rule+":"+cssObject[rule]+"px"):current_css.push(rule+":"+cssObject[rule]));element.setAttribute("style",current_css.join(";"))},removeCSS:function(element,cssArray){var current_css,css_rule;if("string"==typeof(current_css=element.getAttribute("style"))&&0!==current_css.length){current_css=current_css.replace(/;\s+/g,";"),current_css=current_css.replace(/:\s+/g,":"),current_css=current_css.split(";");for(var i=current_css.length;i--;)css_rule=current_css[i].split(":"),2===css_rule.length&&-1!==cssArray.indexOf(css_rule[0])&&current_css.splice(i,1);element.setAttribute("style",current_css.join(";"))}},cssTestingFinished:function(support_info){for(var feature in support_info)support_info.hasOwnProperty(feature)&&void 0!==this.is_supporting[feature]&&(this.is_supporting[feature]=support_info[feature]);this.is_css_tested=!0,this.testCallback&&this.testCallback(this.test_css_calback_arguments)},registerCSSTestCallback:function(callback,args){this.is_css_tested&&callback(args),this.test_css_calback_arguments=args,this.testCallback=callback}};return function(){var testStyles,el_test=document.createElement("div"),stylesheet_for_testing=document.createElement("style"),css_text='#divForTest{-moz-animation:spin 0.5s linear;-webkit-animation:spin 0.5s linear;animation:spin 0.5s linear;position:absolute;}#divForTest:before{content:"";display:block;height:0;-o-transition:0s 100s;-moz-transition:0s 100s;-webkit-transition:0s 100s;transition:0s 100s;}#divForTest.test:before{height:10px}',domPrefixes="Webkit Moz O".split(" ");testStyles=function(){var support_data={css_animation:!1,css_pseudo_animation:!1};if(void 0!==el_test.style.animationName&&(support_data.css_animation=!0),!1===support_data.css_animation)for(var i=domPrefixes.length;i--;)if(void 0!==el_test.style[domPrefixes[i]+"AnimationName"]){support_data.css_animation=!0;break}ENV.addClass(el_test,"test"),0===el_test.offsetHeight&&(support_data.css_pseudo_animation=!0),document.body.removeChild(el_test),document.body.removeChild(stylesheet_for_testing),ENV.cssTestingFinished(support_data)},stylesheet_for_testing.textContent=css_text,document.body.appendChild(stylesheet_for_testing),el_test.setAttribute("id","divForTest"),document.body.appendChild(el_test),setTimeout(testStyles,25)}(),function(authUrl,pageURL,authLocalizationValue){function openAccountChange(url,onSettingChange,onFinish){var messageCallbacks={};"function"==typeof onSettingChange&&(messageCallbacks.accountChangeSuccess=onSettingChange),"function"==typeof onFinish&&(messageCallbacks.close=onFinish,messageCallbacks.goBackToAccount=onFinish),galaxyWindowManager.open(url+"?action=account_change",null,messageCallbacks)}var Frame,InfoBar,MessageListener,exceptions,frameManager,infoBarManager,windowCommunicationManager,galaxyWindowManager;exceptions={MissingPageURL:function(currentValue){this.message="Provided URL is: "+currentValue,this.name="Error: MissingPageURL"}},galaxyWindowManager=function(authUrl,pageURL,authLocalizationValue){var closeOnEscape,closeModalWindow,removeModalWindow,openModalWindow,checkUsersScrolling,checkUsersScrollingDebounced,bindWindowListeners,unbindWindowListeners,updateDimensions,initDOM,constructor,updateContentDimensions,checkLoginURL,checkForCustomURL,checkLeadingSlash,windowResize,resiszeWindowCallback,appendAuthLocalizationQueryParam,messageCallbacks,customURL,parentAppURL,el_measure,scrollCallbacks=[],defaultURL=authUrl,isAutoOpenNeeded=!1,gacHashParameterRegExp=/\bgac=([a-zA-Z\/0-9\-_]+)/,localizationQueryParamName="gog_lc",has_user_scrolled=!1,last_dimensions={height:0,width:0},last_content_dimensions={height:0,width:0},present_dimensions={},present_content_dimensions={},resize_direction=1;return constructor=function(){try{parentAppURL=checkLoginURL(pageURL),appendAuthLocalizationQueryParam(authLocalizationValue)}catch(e){console.log(e)}},appendAuthLocalizationQueryParam=function(authLocalizationValue){if(authLocalizationValue){var localizationQueryParam=localizationQueryParamName+"="+authLocalizationValue;-1!==defaultURL.indexOf("?")?defaultURL+="&"+localizationQueryParam:defaultURL+="?"+localizationQueryParam}},checkLoginURL=function(urlToValidate){if(!urlToValidate)throw new exceptions.MissingPageURL(urlToValidate);return urlToValidate.replace(/\/?$/,"/")},windowResize=function(){var has_resized={for_content:!0,for_window:!0};return{checkIfResized:function(for_what){return has_resized[for_what]},setThatNotResized:function(for_what){has_resized[for_what]=!1},setThatResized:function(for_what){has_resized[for_what]=!0},resizeEvent:ENV.debounce(function(evt){has_resized.for_content=!0,has_resized.for_window=!0,resiszeWindowCallback&&resiszeWindowCallback(evt)},300)}}(),updateDimensions=function(update_type){return present_dimensions="scroll"===update_type?{height:last_dimensions.height,width:last_dimensions.width,top:window.pageYOffset,left:window.pageXOffset}:{height:el_measure.offsetTop,width:el_measure.offsetWidth,top:window.pageYOffset,left:window.pageXOffset},resize_direction=present_dimensions.width<last_dimensions.width?-1:1,last_dimensions={height:present_dimensions.height,width:present_dimensions.width,left:present_dimensions.left,top:present_dimensions.top},{dimensions:present_dimensions,resize_direction:resize_direction}},updateContentDimensions=function(){var window_height=window.innerHeight;return present_content_dimensions={height:document.documentElement.scrollHeight,width:document.documentElement.scrollWidth},present_content_dimensions.height<window_height&&(present_content_dimensions.height=window_height),last_content_dimensions={height:present_content_dimensions.height,width:present_content_dimensions.width},present_content_dimensions},initDOM=function(root_id){var galaxy_CSS,el_css=document.createElement("style");galaxy_CSS="#__BAR_PARAM__ a:not(:hover){background-position:0 100%;background-size:100% 1px!important;background-repeat:repeat-x}@-moz-keyframes __PARAM__-spin{100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes __PARAM__-spin{100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes __PARAM__-spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes __PARAM__-spin{100%{-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.l-flexible#__PARAM__,.l-mobile#__PARAM__{position:absolute;top:0;z-index:2010;width:100%;height:100%;text-align:center;white-space:nowrap}.l-flexible#__PARAM__:after,.l-mobile#__PARAM__:after{content:'';display:inline-block;vertical-align:middle;height:100%;margin-right:-.25em}.l-flexible#__PARAM__:before,.l-mobile#__PARAM__:before{position:absolute}.l-flexible .__PARAM____container,.l-mobile .__PARAM____container{display:inline-block;vertical-align:top;position:relative;padding:15px;margin:-15px}.l-flexible iframe,.l-mobile iframe{-moz-box-shadow:0 0 15px rgba(0,0,0,.15),0 1px 3px rgba(0,0,0,.15);-webkit-box-shadow:0 0 15px rgba(0,0,0,.15),0 1px 3px rgba(0,0,0,.15);box-shadow:0 0 15px rgba(0,0,0,.15),0 1px 3px rgba(0,0,0,.15)}#__PARAM__{position:static;left:0}#__PARAM__:before{content:'';width:.1em;height:.1em;-moz-box-shadow:.475em 0 0 #000,.475em -.01em 0 rgba(0,0,0,.99333),.4745em -.02em 0 rgba(0,0,0,.98667),.474em -.03em 0 rgba(0,0,0,.98),.4735em -.04em 0 rgba(0,0,0,.97333),.4725em -.05em 0 rgba(0,0,0,.96667),.4715em -.06em 0 rgba(0,0,0,.96),.47em -.0695em 0 rgba(0,0,0,.95333),.4685em -.0795em 0 rgba(0,0,0,.94667),.4665em -.0895em 0 rgba(0,0,0,.94),.4645em -.099em 0 rgba(0,0,0,.93333),.4625em -.1085em 0 rgba(0,0,0,.92667),.46em -.1185em 0 rgba(0,0,0,.92),.4575em -.128em 0 rgba(0,0,0,.91333),.4545em -.1375em 0 rgba(0,0,0,.90667),.452em -.147em 0 rgba(0,0,0,.9),.4485em -.1565em 0 rgba(0,0,0,.89333),.445em -.166em 0 rgba(0,0,0,.88667),.4415em -.175em 0 rgba(0,0,0,.88),.438em -.1845em 0 rgba(0,0,0,.87333),.434em -.1935em 0 rgba(0,0,0,.86667),.43em -.2025em 0 rgba(0,0,0,.86),.4255em -.2115em 0 rgba(0,0,0,.85333),.421em -.2205em 0 rgba(0,0,0,.84667),.416em -.229em 0 rgba(0,0,0,.84),.4115em -.2375em 0 rgba(0,0,0,.83333),.4065em -.2465em 0 rgba(0,0,0,.82667),.401em -.255em 0 rgba(0,0,0,.82),.3955em -.263em 0 rgba(0,0,0,.81333),.39em -.2715em 0 rgba(0,0,0,.80667),.3845em -.2795em 0 rgba(0,0,0,.8),.3785em -.2875em 0 rgba(0,0,0,.79333),.3725em -.2955em 0 rgba(0,0,0,.78667),.366em -.303em 0 rgba(0,0,0,.78),.3595em -.3105em 0 rgba(0,0,0,.77333),.353em -.318em 0 rgba(0,0,0,.76667),.3465em -.3255em 0 rgba(0,0,0,.76),.3395em -.3325em 0 rgba(0,0,0,.75333),.3325em -.3395em 0 rgba(0,0,0,.74667),.325em -.3465em 0 rgba(0,0,0,.74),.318em -.353em 0 rgba(0,0,0,.73333),.3105em -.36em 0 rgba(0,0,0,.72667),.303em -.366em 0 rgba(0,0,0,.72),.295em -.3725em 0 rgba(0,0,0,.71333),.287em -.3785em 0 rgba(0,0,0,.70667),.279em -.3845em 0 rgba(0,0,0,.7),.271em -.3905em 0 rgba(0,0,0,.69333),.263em -.396em 0 rgba(0,0,0,.68667),.2545em -.4015em 0 rgba(0,0,0,.68),.246em -.4065em 0 rgba(0,0,0,.67333),.2375em -.4115em 0 rgba(0,0,0,.66667),.229em -.4165em 0 rgba(0,0,0,.66),.22em -.421em 0 rgba(0,0,0,.65333),.211em -.4255em 0 rgba(0,0,0,.64667),.202em -.43em 0 rgba(0,0,0,.64),.193em -.434em 0 rgba(0,0,0,.63333),.184em -.438em 0 rgba(0,0,0,.62667),.175em -.442em 0 rgba(0,0,0,.62),.1655em -.4455em 0 rgba(0,0,0,.61333),.156em -.449em 0 rgba(0,0,0,.60667),.147em -.452em 0 rgba(0,0,0,.6),.1375em -.455em 0 rgba(0,0,0,.59333),.1275em -.458em 0 rgba(0,0,0,.58667),.118em -.4605em 0 rgba(0,0,0,.58),.1085em -.4625em 0 rgba(0,0,0,.57333),.099em -.465em 0 rgba(0,0,0,.56667),.089em -.467em 0 rgba(0,0,0,.56),.079em -.4685em 0 rgba(0,0,0,.55333),.0695em -.47em 0 rgba(0,0,0,.54667),.0595em -.4715em 0 rgba(0,0,0,.54),.0495em -.4725em 0 rgba(0,0,0,.53333),.0395em -.4735em 0 rgba(0,0,0,.52667),.03em -.4745em 0 rgba(0,0,0,.52),.02em -.475em 0 rgba(0,0,0,.51333),.01em -.475em 0 rgba(0,0,0,.50667),0 -.475em 0 rgba(0,0,0,.5),-.01em -.475em 0 rgba(0,0,0,.49333),-.02em -.475em 0 rgba(0,0,0,.48667),-.03em -.4745em 0 rgba(0,0,0,.48),-.04em -.4735em 0 rgba(0,0,0,.47333),-.05em -.4725em 0 rgba(0,0,0,.46667),-.06em -.4715em 0 rgba(0,0,0,.46),-.0695em -.47em 0 rgba(0,0,0,.45333),-.0795em -.4685em 0 rgba(0,0,0,.44667),-.0895em -.467em 0 rgba(0,0,0,.44),-.099em -.465em 0 rgba(0,0,0,.43333),-.1085em -.4625em 0 rgba(0,0,0,.42667),-.1185em -.4605em 0 rgba(0,0,0,.42),-.128em -.458em 0 rgba(0,0,0,.41333),-.1375em -.455em 0 rgba(0,0,0,.40667),-.147em -.452em 0 rgba(0,0,0,.4),-.1565em -.449em 0 rgba(0,0,0,.39333),-.166em -.4455em 0 rgba(0,0,0,.38667),-.175em -.442em 0 rgba(0,0,0,.38),-.1845em -.438em 0 rgba(0,0,0,.37333),-.1935em -.434em 0 rgba(0,0,0,.36667),-.2025em -.43em 0 rgba(0,0,0,.36),-.2115em -.4255em 0 rgba(0,0,0,.35333),-.2205em -.421em 0 rgba(0,0,0,.34667),-.229em -.4165em 0 rgba(0,0,0,.34),-.2375em -.4115em 0 rgba(0,0,0,.33333),-.2465em -.4065em 0 rgba(0,0,0,.32667),-.255em -.4015em 0 rgba(0,0,0,.32),-.263em -.396em 0 rgba(0,0,0,.31333),-.2715em -.3905em 0 rgba(0,0,0,.30667),-.2795em -.3845em 0 rgba(0,0,0,.3),-.2875em -.3785em 0 rgba(0,0,0,.29333),-.2955em -.3725em 0 rgba(0,0,0,.28667),-.303em -.366em 0 rgba(0,0,0,.28),-.3105em -.36em 0 rgba(0,0,0,.27333),-.318em -.353em 0 rgba(0,0,0,.26667),-.3255em -.3465em 0 rgba(0,0,0,.26),-.3325em -.3395em 0 rgba(0,0,0,.25333),-.3395em -.3325em 0 rgba(0,0,0,.24667),-.3465em -.3255em 0 rgba(0,0,0,.24),-.353em -.318em 0 rgba(0,0,0,.23333),-.36em -.3105em 0 rgba(0,0,0,.22667),-.366em -.303em 0 rgba(0,0,0,.22),-.3725em -.2955em 0 rgba(0,0,0,.21333),-.3785em -.2875em 0 rgba(0,0,0,.20667),-.3845em -.2795em 0 rgba(0,0,0,.2),-.3905em -.2715em 0 rgba(0,0,0,.19333),-.396em -.263em 0 rgba(0,0,0,.18667),-.4015em -.255em 0 rgba(0,0,0,.18),-.4065em -.2465em 0 rgba(0,0,0,.17333),-.4115em -.238em 0 rgba(0,0,0,.16667),-.4165em -.229em 0 rgba(0,0,0,.16),-.421em -.2205em 0 rgba(0,0,0,.15333),-.4255em -.2115em 0 rgba(0,0,0,.14667),-.43em -.2025em 0 rgba(0,0,0,.14),-.434em -.1935em 0 rgba(0,0,0,.13333),-.438em -.1845em 0 rgba(0,0,0,.12667),-.442em -.175em 0 rgba(0,0,0,.12),-.4455em -.166em 0 rgba(0,0,0,.11333),-.449em -.1565em 0 rgba(0,0,0,.10667),-.452em -.147em 0 rgba(0,0,0,.1),-.455em -.1375em 0 rgba(0,0,0,.09333),-.458em -.128em 0 rgba(0,0,0,.08667),-.4605em -.1185em 0 rgba(0,0,0,.08),-.4625em -.1085em 0 rgba(0,0,0,.07333),-.465em -.099em 0 rgba(0,0,0,.06667),-.467em -.0895em 0 rgba(0,0,0,.06),-.4685em -.0795em 0 rgba(0,0,0,.05333),-.47em -.0695em 0 rgba(0,0,0,.04667),-.4715em -.06em 0 rgba(0,0,0,.04),-.4725em -.05em 0 rgba(0,0,0,.03333),-.4735em -.04em 0 rgba(0,0,0,.02667),-.4745em -.03em 0 rgba(0,0,0,.02),-.475em -.02em 0 rgba(0,0,0,.01333),-.475em -.01em 0 rgba(0,0,0,.00667);-webkit-box-shadow:.475em 0 0 #000,.475em -.01em 0 rgba(0,0,0,.99333),.4745em -.02em 0 rgba(0,0,0,.98667),.474em -.03em 0 rgba(0,0,0,.98),.4735em -.04em 0 rgba(0,0,0,.97333),.4725em -.05em 0 rgba(0,0,0,.96667),.4715em -.06em 0 rgba(0,0,0,.96),.47em -.0695em 0 rgba(0,0,0,.95333),.4685em -.0795em 0 rgba(0,0,0,.94667),.4665em -.0895em 0 rgba(0,0,0,.94),.4645em -.099em 0 rgba(0,0,0,.93333),.4625em -.1085em 0 rgba(0,0,0,.92667),.46em -.1185em 0 rgba(0,0,0,.92),.4575em -.128em 0 rgba(0,0,0,.91333),.4545em -.1375em 0 rgba(0,0,0,.90667),.452em -.147em 0 rgba(0,0,0,.9),.4485em -.1565em 0 rgba(0,0,0,.89333),.445em -.166em 0 rgba(0,0,0,.88667),.4415em -.175em 0 rgba(0,0,0,.88),.438em -.1845em 0 rgba(0,0,0,.87333),.434em -.1935em 0 rgba(0,0,0,.86667),.43em -.2025em 0 rgba(0,0,0,.86),.4255em -.2115em 0 rgba(0,0,0,.85333),.421em -.2205em 0 rgba(0,0,0,.84667),.416em -.229em 0 rgba(0,0,0,.84),.4115em -.2375em 0 rgba(0,0,0,.83333),.4065em -.2465em 0 rgba(0,0,0,.82667),.401em -.255em 0 rgba(0,0,0,.82),.3955em -.263em 0 rgba(0,0,0,.81333),.39em -.2715em 0 rgba(0,0,0,.80667),.3845em -.2795em 0 rgba(0,0,0,.8),.3785em -.2875em 0 rgba(0,0,0,.79333),.3725em -.2955em 0 rgba(0,0,0,.78667),.366em -.303em 0 rgba(0,0,0,.78),.3595em -.3105em 0 rgba(0,0,0,.77333),.353em -.318em 0 rgba(0,0,0,.76667),.3465em -.3255em 0 rgba(0,0,0,.76),.3395em -.3325em 0 rgba(0,0,0,.75333),.3325em -.3395em 0 rgba(0,0,0,.74667),.325em -.3465em 0 rgba(0,0,0,.74),.318em -.353em 0 rgba(0,0,0,.73333),.3105em -.36em 0 rgba(0,0,0,.72667),.303em -.366em 0 rgba(0,0,0,.72),.295em -.3725em 0 rgba(0,0,0,.71333),.287em -.3785em 0 rgba(0,0,0,.70667),.279em -.3845em 0 rgba(0,0,0,.7),.271em -.3905em 0 rgba(0,0,0,.69333),.263em -.396em 0 rgba(0,0,0,.68667),.2545em -.4015em 0 rgba(0,0,0,.68),.246em -.4065em 0 rgba(0,0,0,.67333),.2375em -.4115em 0 rgba(0,0,0,.66667),.229em -.4165em 0 rgba(0,0,0,.66),.22em -.421em 0 rgba(0,0,0,.65333),.211em -.4255em 0 rgba(0,0,0,.64667),.202em -.43em 0 rgba(0,0,0,.64),.193em -.434em 0 rgba(0,0,0,.63333),.184em -.438em 0 rgba(0,0,0,.62667),.175em -.442em 0 rgba(0,0,0,.62),.1655em -.4455em 0 rgba(0,0,0,.61333),.156em -.449em 0 rgba(0,0,0,.60667),.147em -.452em 0 rgba(0,0,0,.6),.1375em -.455em 0 rgba(0,0,0,.59333),.1275em -.458em 0 rgba(0,0,0,.58667),.118em -.4605em 0 rgba(0,0,0,.58),.1085em -.4625em 0 rgba(0,0,0,.57333),.099em -.465em 0 rgba(0,0,0,.56667),.089em -.467em 0 rgba(0,0,0,.56),.079em -.4685em 0 rgba(0,0,0,.55333),.0695em -.47em 0 rgba(0,0,0,.54667),.0595em -.4715em 0 rgba(0,0,0,.54),.0495em -.4725em 0 rgba(0,0,0,.53333),.0395em -.4735em 0 rgba(0,0,0,.52667),.03em -.4745em 0 rgba(0,0,0,.52),.02em -.475em 0 rgba(0,0,0,.51333),.01em -.475em 0 rgba(0,0,0,.50667),0 -.475em 0 rgba(0,0,0,.5),-.01em -.475em 0 rgba(0,0,0,.49333),-.02em -.475em 0 rgba(0,0,0,.48667),-.03em -.4745em 0 rgba(0,0,0,.48),-.04em -.4735em 0 rgba(0,0,0,.47333),-.05em -.4725em 0 rgba(0,0,0,.46667),-.06em -.4715em 0 rgba(0,0,0,.46),-.0695em -.47em 0 rgba(0,0,0,.45333),-.0795em -.4685em 0 rgba(0,0,0,.44667),-.0895em -.467em 0 rgba(0,0,0,.44),-.099em -.465em 0 rgba(0,0,0,.43333),-.1085em -.4625em 0 rgba(0,0,0,.42667),-.1185em -.4605em 0 rgba(0,0,0,.42),-.128em -.458em 0 rgba(0,0,0,.41333),-.1375em -.455em 0 rgba(0,0,0,.40667),-.147em -.452em 0 rgba(0,0,0,.4),-.1565em -.449em 0 rgba(0,0,0,.39333),-.166em -.4455em 0 rgba(0,0,0,.38667),-.175em -.442em 0 rgba(0,0,0,.38),-.1845em -.438em 0 rgba(0,0,0,.37333),-.1935em -.434em 0 rgba(0,0,0,.36667),-.2025em -.43em 0 rgba(0,0,0,.36),-.2115em -.4255em 0 rgba(0,0,0,.35333),-.2205em -.421em 0 rgba(0,0,0,.34667),-.229em -.4165em 0 rgba(0,0,0,.34),-.2375em -.4115em 0 rgba(0,0,0,.33333),-.2465em -.4065em 0 rgba(0,0,0,.32667),-.255em -.4015em 0 rgba(0,0,0,.32),-.263em -.396em 0 rgba(0,0,0,.31333),-.2715em -.3905em 0 rgba(0,0,0,.30667),-.2795em -.3845em 0 rgba(0,0,0,.3),-.2875em -.3785em 0 rgba(0,0,0,.29333),-.2955em -.3725em 0 rgba(0,0,0,.28667),-.303em -.366em 0 rgba(0,0,0,.28),-.3105em -.36em 0 rgba(0,0,0,.27333),-.318em -.353em 0 rgba(0,0,0,.26667),-.3255em -.3465em 0 rgba(0,0,0,.26),-.3325em -.3395em 0 rgba(0,0,0,.25333),-.3395em -.3325em 0 rgba(0,0,0,.24667),-.3465em -.3255em 0 rgba(0,0,0,.24),-.353em -.318em 0 rgba(0,0,0,.23333),-.36em -.3105em 0 rgba(0,0,0,.22667),-.366em -.303em 0 rgba(0,0,0,.22),-.3725em -.2955em 0 rgba(0,0,0,.21333),-.3785em -.2875em 0 rgba(0,0,0,.20667),-.3845em -.2795em 0 rgba(0,0,0,.2),-.3905em -.2715em 0 rgba(0,0,0,.19333),-.396em -.263em 0 rgba(0,0,0,.18667),-.4015em -.255em 0 rgba(0,0,0,.18),-.4065em -.2465em 0 rgba(0,0,0,.17333),-.4115em -.238em 0 rgba(0,0,0,.16667),-.4165em -.229em 0 rgba(0,0,0,.16),-.421em -.2205em 0 rgba(0,0,0,.15333),-.4255em -.2115em 0 rgba(0,0,0,.14667),-.43em -.2025em 0 rgba(0,0,0,.14),-.434em -.1935em 0 rgba(0,0,0,.13333),-.438em -.1845em 0 rgba(0,0,0,.12667),-.442em -.175em 0 rgba(0,0,0,.12),-.4455em -.166em 0 rgba(0,0,0,.11333),-.449em -.1565em 0 rgba(0,0,0,.10667),-.452em -.147em 0 rgba(0,0,0,.1),-.455em -.1375em 0 rgba(0,0,0,.09333),-.458em -.128em 0 rgba(0,0,0,.08667),-.4605em -.1185em 0 rgba(0,0,0,.08),-.4625em -.1085em 0 rgba(0,0,0,.07333),-.465em -.099em 0 rgba(0,0,0,.06667),-.467em -.0895em 0 rgba(0,0,0,.06),-.4685em -.0795em 0 rgba(0,0,0,.05333),-.47em -.0695em 0 rgba(0,0,0,.04667),-.4715em -.06em 0 rgba(0,0,0,.04),-.4725em -.05em 0 rgba(0,0,0,.03333),-.4735em -.04em 0 rgba(0,0,0,.02667),-.4745em -.03em 0 rgba(0,0,0,.02),-.475em -.02em 0 rgba(0,0,0,.01333),-.475em -.01em 0 rgba(0,0,0,.00667);box-shadow:.475em 0 0 #000,.475em -.01em 0 rgba(0,0,0,.99333),.4745em -.02em 0 rgba(0,0,0,.98667),.474em -.03em 0 rgba(0,0,0,.98),.4735em -.04em 0 rgba(0,0,0,.97333),.4725em -.05em 0 rgba(0,0,0,.96667),.4715em -.06em 0 rgba(0,0,0,.96),.47em -.0695em 0 rgba(0,0,0,.95333),.4685em -.0795em 0 rgba(0,0,0,.94667),.4665em -.0895em 0 rgba(0,0,0,.94),.4645em -.099em 0 rgba(0,0,0,.93333),.4625em -.1085em 0 rgba(0,0,0,.92667),.46em -.1185em 0 rgba(0,0,0,.92),.4575em -.128em 0 rgba(0,0,0,.91333),.4545em -.1375em 0 rgba(0,0,0,.90667),.452em -.147em 0 rgba(0,0,0,.9),.4485em -.1565em 0 rgba(0,0,0,.89333),.445em -.166em 0 rgba(0,0,0,.88667),.4415em -.175em 0 rgba(0,0,0,.88),.438em -.1845em 0 rgba(0,0,0,.87333),.434em -.1935em 0 rgba(0,0,0,.86667),.43em -.2025em 0 rgba(0,0,0,.86),.4255em -.2115em 0 rgba(0,0,0,.85333),.421em -.2205em 0 rgba(0,0,0,.84667),.416em -.229em 0 rgba(0,0,0,.84),.4115em -.2375em 0 rgba(0,0,0,.83333),.4065em -.2465em 0 rgba(0,0,0,.82667),.401em -.255em 0 rgba(0,0,0,.82),.3955em -.263em 0 rgba(0,0,0,.81333),.39em -.2715em 0 rgba(0,0,0,.80667),.3845em -.2795em 0 rgba(0,0,0,.8),.3785em -.2875em 0 rgba(0,0,0,.79333),.3725em -.2955em 0 rgba(0,0,0,.78667),.366em -.303em 0 rgba(0,0,0,.78),.3595em -.3105em 0 rgba(0,0,0,.77333),.353em -.318em 0 rgba(0,0,0,.76667),.3465em -.3255em 0 rgba(0,0,0,.76),.3395em -.3325em 0 rgba(0,0,0,.75333),.3325em -.3395em 0 rgba(0,0,0,.74667),.325em -.3465em 0 rgba(0,0,0,.74),.318em -.353em 0 rgba(0,0,0,.73333),.3105em -.36em 0 rgba(0,0,0,.72667),.303em -.366em 0 rgba(0,0,0,.72),.295em -.3725em 0 rgba(0,0,0,.71333),.287em -.3785em 0 rgba(0,0,0,.70667),.279em -.3845em 0 rgba(0,0,0,.7),.271em -.3905em 0 rgba(0,0,0,.69333),.263em -.396em 0 rgba(0,0,0,.68667),.2545em -.4015em 0 rgba(0,0,0,.68),.246em -.4065em 0 rgba(0,0,0,.67333),.2375em -.4115em 0 rgba(0,0,0,.66667),.229em -.4165em 0 rgba(0,0,0,.66),.22em -.421em 0 rgba(0,0,0,.65333),.211em -.4255em 0 rgba(0,0,0,.64667),.202em -.43em 0 rgba(0,0,0,.64),.193em -.434em 0 rgba(0,0,0,.63333),.184em -.438em 0 rgba(0,0,0,.62667),.175em -.442em 0 rgba(0,0,0,.62),.1655em -.4455em 0 rgba(0,0,0,.61333),.156em -.449em 0 rgba(0,0,0,.60667),.147em -.452em 0 rgba(0,0,0,.6),.1375em -.455em 0 rgba(0,0,0,.59333),.1275em -.458em 0 rgba(0,0,0,.58667),.118em -.4605em 0 rgba(0,0,0,.58),.1085em -.4625em 0 rgba(0,0,0,.57333),.099em -.465em 0 rgba(0,0,0,.56667),.089em -.467em 0 rgba(0,0,0,.56),.079em -.4685em 0 rgba(0,0,0,.55333),.0695em -.47em 0 rgba(0,0,0,.54667),.0595em -.4715em 0 rgba(0,0,0,.54),.0495em -.4725em 0 rgba(0,0,0,.53333),.0395em -.4735em 0 rgba(0,0,0,.52667),.03em -.4745em 0 rgba(0,0,0,.52),.02em -.475em 0 rgba(0,0,0,.51333),.01em -.475em 0 rgba(0,0,0,.50667),0 -.475em 0 rgba(0,0,0,.5),-.01em -.475em 0 rgba(0,0,0,.49333),-.02em -.475em 0 rgba(0,0,0,.48667),-.03em -.4745em 0 rgba(0,0,0,.48),-.04em -.4735em 0 rgba(0,0,0,.47333),-.05em -.4725em 0 rgba(0,0,0,.46667),-.06em -.4715em 0 rgba(0,0,0,.46),-.0695em -.47em 0 rgba(0,0,0,.45333),-.0795em -.4685em 0 rgba(0,0,0,.44667),-.0895em -.467em 0 rgba(0,0,0,.44),-.099em -.465em 0 rgba(0,0,0,.43333),-.1085em -.4625em 0 rgba(0,0,0,.42667),-.1185em -.4605em 0 rgba(0,0,0,.42),-.128em -.458em 0 rgba(0,0,0,.41333),-.1375em -.455em 0 rgba(0,0,0,.40667),-.147em -.452em 0 rgba(0,0,0,.4),-.1565em -.449em 0 rgba(0,0,0,.39333),-.166em -.4455em 0 rgba(0,0,0,.38667),-.175em -.442em 0 rgba(0,0,0,.38),-.1845em -.438em 0 rgba(0,0,0,.37333),-.1935em -.434em 0 rgba(0,0,0,.36667),-.2025em -.43em 0 rgba(0,0,0,.36),-.2115em -.4255em 0 rgba(0,0,0,.35333),-.2205em -.421em 0 rgba(0,0,0,.34667),-.229em -.4165em 0 rgba(0,0,0,.34),-.2375em -.4115em 0 rgba(0,0,0,.33333),-.2465em -.4065em 0 rgba(0,0,0,.32667),-.255em -.4015em 0 rgba(0,0,0,.32),-.263em -.396em 0 rgba(0,0,0,.31333),-.2715em -.3905em 0 rgba(0,0,0,.30667),-.2795em -.3845em 0 rgba(0,0,0,.3),-.2875em -.3785em 0 rgba(0,0,0,.29333),-.2955em -.3725em 0 rgba(0,0,0,.28667),-.303em -.366em 0 rgba(0,0,0,.28),-.3105em -.36em 0 rgba(0,0,0,.27333),-.318em -.353em 0 rgba(0,0,0,.26667),-.3255em -.3465em 0 rgba(0,0,0,.26),-.3325em -.3395em 0 rgba(0,0,0,.25333),-.3395em -.3325em 0 rgba(0,0,0,.24667),-.3465em -.3255em 0 rgba(0,0,0,.24),-.353em -.318em 0 rgba(0,0,0,.23333),-.36em -.3105em 0 rgba(0,0,0,.22667),-.366em -.303em 0 rgba(0,0,0,.22),-.3725em -.2955em 0 rgba(0,0,0,.21333),-.3785em -.2875em 0 rgba(0,0,0,.20667),-.3845em -.2795em 0 rgba(0,0,0,.2),-.3905em -.2715em 0 rgba(0,0,0,.19333),-.396em -.263em 0 rgba(0,0,0,.18667),-.4015em -.255em 0 rgba(0,0,0,.18),-.4065em -.2465em 0 rgba(0,0,0,.17333),-.4115em -.238em 0 rgba(0,0,0,.16667),-.4165em -.229em 0 rgba(0,0,0,.16),-.421em -.2205em 0 rgba(0,0,0,.15333),-.4255em -.2115em 0 rgba(0,0,0,.14667),-.43em -.2025em 0 rgba(0,0,0,.14),-.434em -.1935em 0 rgba(0,0,0,.13333),-.438em -.1845em 0 rgba(0,0,0,.12667),-.442em -.175em 0 rgba(0,0,0,.12),-.4455em -.166em 0 rgba(0,0,0,.11333),-.449em -.1565em 0 rgba(0,0,0,.10667),-.452em -.147em 0 rgba(0,0,0,.1),-.455em -.1375em 0 rgba(0,0,0,.09333),-.458em -.128em 0 rgba(0,0,0,.08667),-.4605em -.1185em 0 rgba(0,0,0,.08),-.4625em -.1085em 0 rgba(0,0,0,.07333),-.465em -.099em 0 rgba(0,0,0,.06667),-.467em -.0895em 0 rgba(0,0,0,.06),-.4685em -.0795em 0 rgba(0,0,0,.05333),-.47em -.0695em 0 rgba(0,0,0,.04667),-.4715em -.06em 0 rgba(0,0,0,.04),-.4725em -.05em 0 rgba(0,0,0,.03333),-.4735em -.04em 0 rgba(0,0,0,.02667),-.4745em -.03em 0 rgba(0,0,0,.02),-.475em -.02em 0 rgba(0,0,0,.01333),-.475em -.01em 0 rgba(0,0,0,.00667);position:fixed;top:3.5em;left:50%;z-index:2010;vertical-align:middle;margin:-.05em 0 0 -.05em;opacity:.45;font-size:70px;-moz-border-radius:50%;-webkit-border-radius:50%;border-radius:50%;-moz-animation:__PARAM__-spin .7s linear infinite;-o-animation:__PARAM__-spin .7s linear infinite;-webkit-animation:__PARAM__-spin .7s linear infinite;animation:__PARAM__-spin .7s linear infinite;-moz-transition:translate3d(0,0,0);-o-transition:translate3d(0,0,0);-webkit-transition:translate3d(0,0,0);transition:translate3d(0,0,0)}.no-cssanimations#__PARAM__:before,.no-csspseudoanimations#__PARAM__:before{width:32px;height:32px;margin-left:-16px;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;background:url(https://login.gog.com/bundles/gogloginlogin/images/flb-modal-spin.gif)}.__PARAM____container{position:fixed;top:0;left:0;right:0;bottom:0;z-index:2030;overflow:hidden;opacity:0;-moz-transition:opacity .15s linear;-o-transition:opacity .15s linear;-webkit-transition:opacity .15s linear;transition:opacity .15s linear;-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.__PARAM____container iframe{display:block;width:100%;height:100%;background:0 0;border:none}.__PARAM____overlay{position:fixed;top:0;left:0;bottom:0;right:0;z-index:2000;background:rgba(204,204,204,.5)}.__PARAM____measure{position:fixed;bottom:0;left:0;right:0}.__PARAM____measure.no-cssanimations{background:url(https://login.gog.com/bundles/gogloginlogin/images/flb-modal-spin.gif)}.l-mobile .__PARAM____container{margin-top:130px}.l-mobile.__PARAM____overlay{position:absolute}.l-small-screen#__PARAM__:before{top:50%;margin-top:-.05em}.l-small-screen>.__PARAM____container{vertical-align:middle;margin-top:-15px}.l-loaded#__PARAM__:before{content:none}.l-loaded .__PARAM____container{opacity:1}#__BAR_PARAM__{position:fixed;bottom:0;left:0;width:100%;height:auto;z-index:2040;background-color:rgba(222,222,222,.9);color:#595959;font-size:.75rem;line-height:1.5;padding:.5rem 1rem;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-shadow:0 0 15px rgba(0,0,0,.15),0 1px 3px rgba(0,0,0,.15);-webkit-box-shadow:0 0 15px rgba(0,0,0,.15),0 1px 3px rgba(0,0,0,.15);box-shadow:0 0 15px rgba(0,0,0,.15),0 1px 3px rgba(0,0,0,.15);text-align:center}#__BAR_PARAM__ a:not(:hover){background-image:-webkit-gradient(linear,0 50%,100% 50%,color-stop(0%,currentColor),color-stop(100%,currentColor));background-image:-moz-linear-gradient(left,currentColor,currentColor);background-image:-o-linear-gradient(left,currentColor,currentColor);background-image:-webkit-linear-gradient(left,currentColor,currentColor);background-image:linear-gradient(to right,currentColor,currentColor)}#__BAR_PARAM__Content{max-width:1060px;display:inline-block;vertical-align:middle;text-align:left}",galaxy_CSS=galaxy_CSS.replace(/__PARAM__/g,root_id),galaxy_CSS=galaxy_CSS.replace(/__BAR_PARAM__/g,infoBarManager.getWrapperId()),el_css.setAttribute("media","screen"),el_css.textContent=galaxy_CSS,document.body.appendChild(el_css),el_measure=document.createElement("div"),ENV.addClass(el_measure,root_id+"__measure"),ENV.is_supporting.css_animation&&ENV.is_supporting.css_pseudo_animation||ENV.addClass(el_measure,ENV.classes.no_css_animations),document.body.appendChild(el_measure),updateDimensions()},checkUsersScrolling=function(evt){if(!has_user_scrolled&&(has_user_scrolled=!0,0!==scrollCallbacks.length))for(var i=scrollCallbacks.length;i--;)scrollCallbacks[i](evt)},checkUsersScrollingDebounced=ENV.debounce(checkUsersScrolling,50),checkLeadingSlash=function(urlToCheck){return urlToCheck.replace(/^[\/]*/,"")},openModalWindow=function(relativePath,contentType,_messageCallbacks){var urlToOpen=defaultURL;relativePath&&(urlToOpen=parentAppURL+checkLeadingSlash(relativePath)),messageCallbacks="object"==typeof _messageCallbacks?_messageCallbacks:{},windowCommunicationManager.setContentType(contentType),removeModalWindow(),frameManager.create(urlToOpen),bindWindowListeners()},removeModalWindow=function(){frameManager.remove()},closeModalWindow=function(){windowCommunicationManager.resetSubmissionTracking(),removeModalWindow(),infoBarManager.destroy(),unbindWindowListeners()},closeOnEscape=function(evt){27===evt.which&&closeModalWindow()},checkForCustomURL=function(){var hash,matchedParameter;if(hash=window.decodeURIComponent(window.location.hash),!(matchedParameter=hash.match(gacHashParameterRegExp)))return isAutoOpenNeeded=!1;customURL=matchedParameter[1],window.location.hash="",isAutoOpenNeeded=!0},bindWindowListeners=function(){window.addEventListener("scroll",checkUsersScrollingDebounced,!1),window.addEventListener("keydown",closeOnEscape,!1),window.addEventListener("resize",windowResize.resizeEvent,!1)},unbindWindowListeners=function(){window.removeEventListener("scroll",checkUsersScrollingDebounced,!1),window.removeEventListener("keydown",closeOnEscape,!1),window.removeEventListener("resize",windowResize.resizeEvent,!1)},constructor(),{init:function(){checkForCustomURL(),ENV.registerCSSTestCallback(function(){initDOM(frameManager.getRootId()),isAutoOpenNeeded&&openModalWindow(customURL)})},open:openModalWindow,close:closeModalWindow,removeWindowsEventListener:function(event_type,callback){window.removeEventListener(event_type,callback)},setWindowsEventListener:function(event_type,callback){window.addEventListener(event_type,callback,!1)},getContentDimensions:function(){return windowResize.checkIfResized("for_content")?(windowResize.setThatNotResized("for_content"),updateContentDimensions()):last_content_dimensions},getLastResizeDirection:function(){return resize_direction},beforeIframeReload:function(){windowResize.setThatResized("for_content"),windowResize.setThatResized("for_window")},getWindowDimensions:function(){return windowResize.checkIfResized("for_window")?(windowResize.setThatNotResized("for_window"),updateDimensions()):{dimensions:last_dimensions}},registerWindowResizeCallback:function(callback){resiszeWindowCallback=callback},deregisterWindowResizeCallback:function(){resiszeWindowCallback=void 0},registerScrollCallback:function(callback){scrollCallbacks.push(callback)},deregisterScrollCallback:function(callback){var index=scrollCallbacks.indexOf(callback);-1!==index&&scrollCallbacks.splice(index,1)},fireResizeEvent:function(){windowResize.resizeEvent()},getAuthURL:function(){return defaultURL},getMeasureWidth:function(){return el_measure.offsetWidth},getMessageCallbacks:function(){return messageCallbacks},addMessageCallback:function(onAction,callback){messageCallbacks[onAction]=callback}}}(authUrl,pageURL,authLocalizationValue),Frame=function(){var init,resizeWindowCallback,resizeWindowCallbackDebounced,generateIframeHTML,frameOnloadCallback,initDOMForIframe,shutDownDOMForIframe,iframeSizeManager,galaxyBoxDOM={root:null,iframe:null,overlay:null,frameHTML:null
},rootId="GalaxyAccountsFrameContainer",iframeId="GalaxyAccountsFrame",iframeName="galaxyAccounts",layer_state={ids:{root:rootId,iframeId:iframeId,iframeName:iframeName},classes:{overlay_element:rootId+"__overlay",container_element:rootId+"__container",is_small_screen_reached:"l-small-screen",is_flexible_layout:"l-flexible",is_frame_loaded:"l-loaded",is_mobile:"l-mobile"},minimal_height:0,height_small_screen:600,is_debug:!1,is_frame_loaded:!1,is_open:!1,is_fixed:!1,iframe_boundaries:{has_biggest_boundary:!1,has_smallest_boundary:!1,is_boundary_reached:!1,lowBoundary:null,highBoundary:null}};iframeSizeManager=function(){var mobileCompatibleLayout,desktopLayout,updateDOMOverlay,adjustFocusedInputPosition,adjustPositionOnScroll,focused_input_position,is_input_focused=!1;return updateDOMOverlay=function(){ENV.addCSS(galaxyBoxDOM.overlay,galaxyWindowManager.getContentDimensions())},adjustFocusedInputPosition=function(){var resetConditions,scrollToInput,has_blur_occurred=!1,has_focus_occurred=!1,has_touch_occured=!1;return resetConditions=function(){has_blur_occurred=!1,has_focus_occurred=!1,has_touch_occured=!1},scrollToInput=function(){var window_dimensions,is_focused_input_visible,window_height,is_lower,is_higher,scroll_y,focused_input_top_edge_offset,window_bottom_offset,focused_input_bottom_edge_offset;window_dimensions=galaxyWindowManager.getWindowDimensions().dimensions,window_height=window_dimensions.height,scroll_y=galaxyBoxDOM.root.style.top,scroll_y=scroll_y?parseInt(scroll_y,10):0,focused_input_top_edge_offset=focused_input_position.top+scroll_y,focused_input_bottom_edge_offset=focused_input_top_edge_offset+focused_input_position.height,window_bottom_offset=window_dimensions.top+window_height,is_lower=focused_input_bottom_edge_offset>window_bottom_offset,is_higher=focused_input_top_edge_offset<window_dimensions.top,(is_focused_input_visible=!is_lower&&!is_higher)||(scroll_y=window_dimensions.top-focused_input_position.top,scroll_y>=0?ENV.addCSS(galaxyBoxDOM.root,{top:scroll_y}):(ENV.addCSS(galaxyBoxDOM.root,{top:0}),window.scrollTo(window_dimensions.left,focused_input_position.top)))},{blurOccurred:function(){resetConditions(),has_blur_occurred=!0},focusOccurred:function(){has_blur_occurred&&(has_focus_occurred=!0,adjustPositionOnScroll())},monitorUserTouch:function(){resetConditions()},scrollToInput:scrollToInput,adjustPosition:function(){has_focus_occurred&&has_blur_occurred&&layer_state.is_fixed}}}(),adjustPositionOnScroll=ENV.debounce(adjustFocusedInputPosition.adjustPosition,300),desktopLayout=function(){var changeLayout,contentResized,checkContentDimensions,scrollWindow,last_measure_width,new_measure_width;return checkContentDimensions=function(){var window_dimensions=galaxyWindowManager.getWindowDimensions(),is_resize_needed=layer_state.is_fixed&&galaxyBoxDOM.iframe.offsetWidth!==window_dimensions.dimensions.width,window_height=window_dimensions.dimensions.height,scroll_y=window_dimensions.dimensions.top;windowCommunicationManager.sendMessage({action:"viewportResize",data:window_dimensions}),layer_state.is_fixed&&!is_resize_needed||(ENV.addCSS(galaxyBoxDOM.root,{width:window_dimensions.dimensions.width,height:window_height,top:scroll_y,left:window_dimensions.dimensions.left}),ENV.addCSS(galaxyBoxDOM.container,{height:window_dimensions.dimensions.height,width:window_dimensions.dimensions.width}),is_input_focused&&adjustFocusedInputPosition.scrollToInput()),windowCommunicationManager.sendMessage({action:"iframeResize",data:{}})},contentResized=function(){var window_height=galaxyWindowManager.getWindowDimensions().dimensions.height;if(!(window_height<layer_state.minimal_height)||layer_state.is_fixed)return window_height<layer_state.minimal_height?(layer_state.is_fixed=!1,void changeLayout("flexible")):void(layer_state.is_fixed&&window_height<=layer_state.minimal_height||(layer_state.is_fixed=!0,changeLayout("fixed")))},scrollWindow=function(){return last_measure_width?(new_measure_width=galaxyWindowManager.getMeasureWidth(),last_measure_width!==new_measure_width&&(last_measure_width=new_measure_width,galaxyWindowManager.fireResizeEvent())):(last_measure_width=galaxyWindowManager.getMeasureWidth(),galaxyWindowManager.fireResizeEvent())},changeLayout=function(layout_mode){if("flexible"===layout_mode)return checkContentDimensions(),void ENV.addClass(galaxyBoxDOM.root,layer_state.classes.is_flexible_layout);ENV.removeClass(galaxyBoxDOM.root,layer_state.classes.is_flexible_layout),ENV.removeCSS(galaxyBoxDOM.root,["height","width","left","top"]),ENV.removeCSS(galaxyBoxDOM.container,["height","width"])},{initDOM:function(){updateDOMOverlay()},htmlGeneration:function(){},registerContentDimensions:function(info){layer_state.minimal_height=info.dimensions.height,layer_state.minimal_width=info.dimensions.width,layer_state.is_fixed||ENV.addCSS(galaxyBoxDOM.container,info.dimensions),contentResized()},registerFocusedInputPosition:function(input_position){focused_input_position=input_position,is_input_focused=!0,galaxyWindowManager.setWindowsEventListener("touchstart",adjustFocusedInputPosition.monitorUserTouch),galaxyWindowManager.setWindowsEventListener("mousedown",adjustFocusedInputPosition.monitorUserTouch),galaxyWindowManager.registerScrollCallback(adjustPositionOnScroll),adjustFocusedInputPosition.focusOccurred()},deregisterFocusedInputPosition:function(){is_input_focused=!1,adjustFocusedInputPosition.blurOccurred(),galaxyWindowManager.deregisterScrollCallback(adjustPositionOnScroll),galaxyWindowManager.removeWindowsEventListener("touchstart",adjustFocusedInputPosition.monitorUserTouch),galaxyWindowManager.removeWindowsEventListener("mousedown",adjustFocusedInputPosition.monitorUserTouch)},loadContent:function(){layer_state.is_fixed=!0,checkContentDimensions()},scrollWindow:ENV.debounce(scrollWindow,150),resizeWindow:function(){updateDOMOverlay(),checkContentDimensions()}}}(),mobileCompatibleLayout=function(){var resizeIframe,updateDOM,scrollWindow;return scrollWindow=function(){},resizeIframe=function(window_size){windowCommunicationManager.sendMessage({action:"viewportResize",data:window_size.dimensions}),ENV.addCSS(galaxyBoxDOM.iframe,{width:window_size.dimensions.width}),windowCommunicationManager.sendMessage({action:"iframeResize",data:{}})},updateDOM=function(){updateDOMOverlay();var window_size=galaxyWindowManager.getWindowDimensions().dimensions,content_size=galaxyWindowManager.getContentDimensions(),scroll_y=window_size.top,scroll_x=window_size.left,window_width=window_size.width,window_height=window_size.height;scroll_x+window_width>content_size.width&&(scroll_x-=scroll_x+window_width-content_size.width),ENV.addCSS(galaxyBoxDOM.root,{width:window_width,height:window_height,top:scroll_y,left:scroll_x}),window_height<=layer_state.height_small_screen?ENV.addClass(galaxyBoxDOM.root,layer_state.classes.is_small_screen_reached):ENV.removeClass(galaxyBoxDOM.root,layer_state.classes.is_small_screen_reached)},{initDOM:function(){updateDOMOverlay()},htmlGeneration:function(el_frame_root){var window_dimensions=galaxyWindowManager.getWindowDimensions();ENV.addCSS(el_frame_root,window_dimensions.dimensions)},registerContentDimensions:function(info){ENV.addCSS(galaxyBoxDOM.iframe,info.dimensions),ENV.addCSS(galaxyBoxDOM.container,info.dimensions)},registerFocusedInputPosition:function(input_position){focused_input_position=input_position,is_input_focused=!0,galaxyWindowManager.setWindowsEventListener("touchstart",adjustFocusedInputPosition.monitorUserTouch),galaxyWindowManager.registerScrollCallback(adjustPositionOnScroll),adjustFocusedInputPosition.focusOccurred()},deregisterFocusedInputPosition:function(){is_input_focused=!1,adjustFocusedInputPosition.blurOccurred(),galaxyWindowManager.deregisterScrollCallback(adjustPositionOnScroll),galaxyWindowManager.removeWindowsEventListener("touchstart",adjustFocusedInputPosition.monitorUserTouch)},loadContent:function(){var window_size=galaxyWindowManager.getWindowDimensions();updateDOM(),resizeIframe(window_size)},scrollWindow:ENV.debounce(scrollWindow,500),resizeWindow:function(){}}}(),ENV.is_mobile?mobileCompatibleLayout:desktopLayout}(),init=function(){resizeWindowCallbackDebounced=function(){}},resizeWindowCallback=iframeSizeManager.resizeWindow,initDOMForIframe=function(){galaxyWindowManager.registerWindowResizeCallback(resizeWindowCallback),galaxyWindowManager.registerScrollCallback(iframeSizeManager.scrollWindow),galaxyBoxDOM.root.addEventListener("click",galaxyWindowManager.close,!1),galaxyBoxDOM.overlay.addEventListener("click",galaxyWindowManager.close,!1),iframeSizeManager.initDOM(),galaxyBoxDOM.iframe.onload=frameOnloadCallback},shutDownDOMForIframe=function(){galaxyWindowManager.deregisterWindowResizeCallback(),galaxyWindowManager.deregisterScrollCallback(iframeSizeManager.scrollWindow)},generateIframeHTML=function(frameUrl){var el_iframe,el_container,el_overlay,frameRoot,frameHTML;return galaxyBoxDOM.frameHTML?(frameHTML=galaxyBoxDOM.frameHTML.cloneNode(!0),frameHTML.querySelector("iframe").src=frameUrl,frameHTML):(el_iframe=document.createElement("iframe"),el_container=document.createElement("div"),el_overlay=document.createElement("div"),frameRoot=document.createElement("div"),frameHTML=document.createDocumentFragment(),frameRoot.setAttribute("id",layer_state.ids.root),ENV.is_mobile&&(ENV.addClass(frameRoot,layer_state.classes.is_mobile),ENV.addClass(el_overlay,layer_state.classes.is_mobile)),ENV.is_supporting.css_animation||ENV.addClass(frameRoot,ENV.classes.no_css_animations),ENV.is_supporting.css_pseudo_animation||ENV.addClass(frameRoot,ENV.classes.no_css_pseudo_animations),ENV.addClass(el_overlay,layer_state.classes.overlay_element),el_iframe.setAttribute("id",layer_state.ids.iframeId),el_iframe.setAttribute("name",layer_state.ids.iframeName),el_iframe.setAttribute("src",frameUrl),el_iframe.setAttribute("frameborder","0"),ENV.addClass(el_container,layer_state.classes.container_element),el_container.appendChild(el_iframe),frameRoot.appendChild(el_container),frameHTML.appendChild(el_overlay),iframeSizeManager.htmlGeneration(frameRoot),frameHTML.appendChild(frameRoot.cloneNode(!0)),galaxyBoxDOM.frameHTML=frameHTML,frameHTML.cloneNode(!0))},this.firstIframeLoad=function(){windowCommunicationManager.registerFrameWindow()},this.onIframesContentLoad=function(){iframeSizeManager.loadContent()},this.iframeInputfocused=function(input_position){iframeSizeManager.registerFocusedInputPosition(input_position)},this.iframeInputBlured=function(){iframeSizeManager.deregisterFocusedInputPosition()},this.beforeIframeLocationChange=function(data){layer_state.is_frame_loaded=!1,galaxyWindowManager.beforeIframeReload(),ENV.removeClass(galaxyBoxDOM.root,layer_state.classes.is_frame_loaded),setTimeout(function(){windowCommunicationManager.sendMessage({action:"proceedWithLocationChange",data:{event:data.event}})},150)},this.registerContentDimensions=function(info){var focus_message,boundary_info=info.boundary_info;switch(boundary_info.is_boundary_reached&&(layer_state.iframe_boundaries[boundary_info.boundary_type]=info.dimensions.width,layer_state.iframe_boundaries.is_boundary_reached=!0),boundary_info.boundary_type){case"highBoundary":layer_state.iframe_boundaries.has_biggest_boundary=!0,layer_state.iframe_boundaries.has_smallest_boundary=!1;break;case"lowBoundary":layer_state.iframe_boundaries.has_biggest_boundary=!1,layer_state.iframe_boundaries.has_smallest_boundary=!0;break;default:layer_state.iframe_boundaries.has_biggest_boundary=!1,layer_state.iframe_boundaries.has_smallest_boundary=!1}iframeSizeManager.registerContentDimensions(info),layer_state.is_frame_loaded||(layer_state.is_frame_loaded=!0,ENV.addClass(galaxyBoxDOM.root,layer_state.classes.is_frame_loaded),focus_message={action:"containerIsReady",data:{}},windowCommunicationManager.sendMessage(focus_message))},this.create=function(url){galaxyWindowManager.beforeIframeReload(),document.body.appendChild(generateIframeHTML(url)),galaxyBoxDOM.iframe=document.getElementById(layer_state.ids.iframeId),galaxyBoxDOM.root=document.getElementById(layer_state.ids.root),galaxyBoxDOM.container=galaxyBoxDOM.root.querySelector("."+layer_state.classes.container_element),galaxyBoxDOM.overlay=document.querySelector("."+layer_state.classes.overlay_element),windowCommunicationManager.activate(),initDOMForIframe(),layer_state.is_open=!0},this.remove=function(){layer_state.is_open&&(document.body.removeChild(galaxyBoxDOM.root),document.body.removeChild(galaxyBoxDOM.overlay),shutDownDOMForIframe(),galaxyBoxDOM.root=null,galaxyBoxDOM.iframe=null,layer_state.is_frame_loaded=!1,layer_state.is_open=!1,windowCommunicationManager.deactivate())},this.getFrameWindow=function(){return!!galaxyBoxDOM.iframe&&galaxyBoxDOM.iframe.contentWindow},this.getRootId=function(){return layer_state.ids.root},init()},InfoBar=function(){var generateHTML,bar={wrapperId:"GalaxyAccountsMessageBar",contentId:"GalaxyAccountsMessageBarContent",node:null};generateHTML=function(message){var wrapperNode,contentNode;return contentNode=document.createElement("div"),contentNode.setAttribute("id",bar.contentId),contentNode.innerHTML=message,wrapperNode=document.createElement("div"),wrapperNode.setAttribute("id",bar.wrapperId),wrapperNode.appendChild(contentNode.cloneNode(!0)),wrapperNode.cloneNode(!0)},this.create=function(message){null!==bar.node?document.getElementById(bar.contentId).innerHTML=message:(bar.node=generateHTML(message),document.body.appendChild(bar.node))},this.destroy=function(){null!==bar.node&&(document.body.removeChild(bar.node),bar.node=null)},this.getWrapperId=function(){return bar.wrapperId}},MessageListener=function(GalaxyAccounts,frame){var frame_window,onMessage,doAction,getOrigin,sendMessage,setContentType,getContentType,submitedFormType=null,contentTypeToLoad="loginForm",target_origin="*";return setContentType=function(type){contentTypeToLoad=type||contentTypeToLoad},getContentType=function(){return submitedFormType||contentTypeToLoad},getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?window.location.port:"")},sendMessage=function(msg){try{frame_window.postMessage(JSON.stringify(msg),target_origin)}catch(e){console.log(e)}},onMessage=function(e){var message;if(frame.getFrameWindow()&&e.source===frame.getFrameWindow()){try{message=JSON.parse(e.data)}catch(exc){return}message&&message.action&&doAction(message)}},doAction=function(message){switch(message.action){case"close":GalaxyAccounts.close();break;case"reload":submitedFormType=null,window.top.location.reload();break;case"registerContentDimensions":frame.registerContentDimensions(message.data);break;case"firstIframeLoad":target_origin=message.data.origin,frame.firstIframeLoad(message.data);break;case"contentLoaded":frameManager.onIframesContentLoad();break;case"formSubmission":submitedFormType=message.data.formType;break;case"inputFocused":frame.iframeInputfocused(message.data);break;case"inputBlured":frame.iframeInputBlured();break;case"beforeIframeLocationChange":frame.beforeIframeLocationChange(message.data),submitedFormType=null,setContentType(message.data.contentType)}var messageCallbacks=galaxyWindowManager.getMessageCallbacks();for(var messageName in messageCallbacks)if(messageName===message.action){messageCallbacks[messageName](message.data);break}},{activate:function(){galaxyWindowManager.setWindowsEventListener("message",onMessage)},resetSubmissionTracking:function(){submitedFormType=null},deactivate:function(){galaxyWindowManager.removeWindowsEventListener("message",onMessage)},registerFrameWindow:function(){frame_window=frame.getFrameWindow(),sendMessage({action:"registerOrigin",data:{origin:getOrigin()}}),sendMessage({action:"loadContent",data:{contentType:getContentType()}})},setContentType:setContentType,sendMessage:sendMessage}},this.openInfoBar=function(message){infoBarManager.create(message)},this.closeInfoBar=function(){infoBarManager.destroy()},this.openLoginForm=function(){galaxyWindowManager.open(null,"loginForm")},this.openRegistrationForm=function(){galaxyWindowManager.open(null,"registerForm")},this.openAccount=function(){galaxyWindowManager.open("account")},this.openAvatarChange=function(onSettingChange,onFinish){openAccountChange("/account",onSettingChange,onFinish)},this.openEmailChange=function(onSettingChange,onFinish){openAccountChange("/account/email",onSettingChange,onFinish)},this.openPasswordChange=function(onSettingChange,onFinish){openAccountChange("/account/password",onSettingChange,onFinish)},this.openTwoStepEnable=function(onSettingChange,onFinish){openAccountChange("/account/two_step/enable",onSettingChange,onFinish)},this.openTwoStepDisable=function(onSettingChange,onFinish){openAccountChange("/account/two_step/disable",onSettingChange,onFinish)},this.onExternalProviderFlow=function(callback){galaxyWindowManager.addMessageCallback("externalProviderFlow",callback)},this.open=function(customURL,contentType){customURL?galaxyWindowManager.open(customURL,contentType):galaxyWindowManager.open(null,contentType)},this.close=function(){galaxyWindowManager.close()},this.gaeaLoginFormLoaded=function(){frameManager.firstIframeLoad(),frameManager.onIframesContentLoad(),frameManager.registerContentDimensions({boundary_info:{is_boundary_reached:!1},dimensions:{height:428,width:390}})},infoBarManager=new InfoBar,frameManager=new Frame,windowCommunicationManager=new MessageListener(this,frameManager),galaxyWindowManager.init()}}();